特定のデータを取得しよう

  ひつじ仙人「ここまでは問題ないようじゃな。」

  にんじゃわんこ「はい！でもこれだと、ただ取得しただけであまり分析という感じがしませんね。
  例えば、categoryカラムに「食費」が入っている、「食費のデータだけ」を取得するためには
  どのようにすれば良いですか？」

  ひつじ仙人「そうじゃな。そのような場合は「WHERE」を使うぞ。
  次のスライドで一緒に確認してみよう。」

  参考画像：SQL01_image_12.jpg


WHERE
  特定のデータを取得するためには、「どこの」という意味を持つ「WHERE」を用います。
  「SELECT」と「FROM」で「どのテーブルのどのカラムのデータを取得するか」までは
  決まっていますので、「WHERE」が意味するのは、
  「どこのレコード（横の行）を取得するか」になります。

  参考画像：SQL01_image_13.jpg


WHERE(2)
  「どこのレコード（横の行）のデータを取得するか」を指定するためには左の図のように
  「=」を用いて、「〇〇カラムが〇〇であるレコード」といった意味になるように条件を指定します。

  参考画像：SQL01_image_14.jpg


「食費」のデータを取得しよう
  今回は「WHERE category = "食費"」のような条件で、「category」が「食費」であるデータを
  取得してみましょう。データには「データ型」と呼ばれるルールにより、「食費」のようなテキストは
  クォーテーションで囲む必要があります。「データ型」については、次のページで詳しく説明します。

  参考画像：SQL01_image_15.jpg


色々なカラムを条件にデータを取得しよう
  ひつじ仙人「WHEREを覚えて少しだけ分析に近づいたようじゃな。」

  にんじゃわんこ「はい！今回は「categoryカラムが食費であるデータ」を取得しましたが、
  他のカラムでも同じようなことが出来るんですか？」

  ひつじ仙人「もちろんじゃ。では今度はpriceカラムやpurchased_atカラムを条件にデータを取得してみよう。
  その前に、先ほど少し登場した「データ型」について一緒に確認していこう。」

  参考画像：SQL01_image_16.jpg


データ型
  データベースに保存されているデータには、「データ型」と呼ばれるルールがあります。
  「データ型」とは、テキストデータや数値データ、さらには日付データといったように
  「データの種類」を示すものです。

  参考画像：SQL01_image_17.jpg


データ型(2)
  データベースでは、カラムごとにデータ型を決めます。
  今回のテーブルのカラムには左の図のようなデータ型が設定されています。

  参考画像：SQL01_image_18.jpg


数値データを取得しよう
  今回は「商品の値段が1000円であるデータ」を取得してみましょう。
  「値段」を示す「priceカラム」には「数値データ」が保存されています。
  「数値データ」はクォーテーションで囲んではいけないため、注意しましょう。

  参考画像：SQL01_image_19.jpg


日付データを取得しよう
  次に「日付が2017-07-01であるデータ」を取得してみましょう。
  「日付」を示す「purchased_atカラム」には「日付データ」が保存されています。
  「日付データ」はダブルクォーテーションまたはシングルクォーテーションで囲む必要があるため、
  忘れないようにしましょう。

  参考画像：SQL01_image_20.jpg